<head></head>
<script>
    function sleep(ms) {
        return new Promise((resolve) => setTimeout(resolve, ms))
    }
    sleep(1000)
        .then(() => {
            console.log(1);
            return sleep(1000) //return ở đây là tham số đầu vào ms của setTimeout dòng then bên dưới
        })
        .then(() => {
            console.log(2);
            return sleep(1000)  //return ở đây là tham số đầu vào ms của setTimeout dòng then bên dưới
        }
        ).then(() => {
            console.log(3);
            return new Promise((resolve, reject) => reject("エラー"))  //chạy hàm reject khi thất bại, hàm reject nhận 1 đối số là エラー 
        })
        .then(() => {
            console.log(4);
            return sleep(1000)
        })

        .catch((err) => {        //tham số エラー　được truyền vào catch()
            console.log(err);
        })

    // function sleep(ms) {
    //     return new Promise(function(resolve) {
    //         setTimeout(resolve, ms)
    //     })
    // }
    // sleep(1000)
    //     .then(function() {
    //         console.log(1);
    //         return sleep(1000)
    //     })
    //     .then(function() {
    //         console.log(2);
    //         return sleep(1000)
    //     }
    //     ).then(function() {
    //         console.log(3);
    //         return sleep(1000)
    //     })
</script>
